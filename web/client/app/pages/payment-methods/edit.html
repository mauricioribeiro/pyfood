<div class="page page-payment-methods">
    <div class="row ui-section">
        <div class="col-lg-8 clearfix">
            <h2 class="section-header"><md-icon>style</md-icon> Modalidades</h2>
        </div>
        <div class="col-md-12">
            <article>
                <md-card class="no-margin-h">
                    <md-toolbar class="md-table-toolbar md-default">
                        <div class="md-toolbar-tools">
                            <span>Edição</span>
                        </div>
                    </md-toolbar>
                    <div class="panel-body padding-xl">
                        <div class="row">
                            <div class=" col-lg-8 col-lg-offset-2">
                                <div layout="column" ng-cloak class="md-inline-form">
                                    <div layout-padding>
                                        <form name="editForm" ng-submit="save()">

                                            <div layout layout-sm="column">
                                                <md-input-container flex>
                                                    <label>Nome</label>
                                                    <input name="name" ng-model="paymentMethod.name" required>
                                                    <div ng-messages="editForm.name.$error" multiple ng-if='editForm.name.$dirty'>
                                                        <div ng-message="required">Este campo é obrigatório.</div>
                                                    </div>
                                                </md-input-container>
                                            </div>

                                            <div layout layout-sm="column">
                                                <md-input-container flex>
                                                    <label>Modalidade</label>
                                                    <md-select ng-model="paymentMethod.payment_method"  placeholder="Modalidade">
                                                        <md-option ng-value="method" ng-repeat="(method,title) in allowedPaymentMethods">
                                                            {{ title }}
                                                        </md-option>
                                                    </md-select>
                                                </md-input-container>
                                            </div>

                                            <div layout layout-sm="column">
                                                <md-input-container flex>
                                                    <label></label>
                                                    <md-checkbox ng-model="paymentMethod.uses_working_days" ng-checked="isChecked()" class="md-primary" aria-label="Utiliza dias úteis">
                                                        Utiliza dias úteis
                                                    </md-checkbox>
                                                </md-input-container>
                                            </div>

                                            <div layout layout-sm="column">
                                                <md-input-container flex>
                                                    <label>Prazo padrão em dias</label>
                                                    <input name="default_deadline_days" ng-model="paymentMethod.default_deadline_days" ng-pattern="/^[0-9]+$/">
                                                    <div ng-messages="editForm.default_deadline_days.$error" multiple ng-if='editForm.default_deadline_days.$dirty'>
                                                        <div ng-message="pattern">Prazo padrão em dias deve ser entrado com números inteiros.</div>
                                                    </div>
                                                </md-input-container>
                                            </div>

                                            <md-button type="submit" class="md-raised btn-w-md md-primary" ng-disabled="editForm.$invalid">Salvar</md-button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </md-card>
            </article>
        </div>
    </div>
</div>
